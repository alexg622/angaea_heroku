<script>
  document.addEventListener('DOMContentLoaded', () => {
    showRatings()
    showActivities()
    showCreateActivityForm()
    showCreateRentalForm()
    showUpcomingActivities()
    successPurchase()
    showRentedItems()
    showForm()
    changePrice()
    showCreateServiceForm()
    // spotsPrice()

    // let img = document.querySelector(".users-show-image")
    // if(img !== null) {
    //   let img = img.children[0]
    // }
    // img.style.borderRadius = "50%"
  })

  function showRatings() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let form = document.querySelector(".display-it-none")
    let rentalForm = document.querySelector(".display-it-none-rental")
    let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    let rightToggle = document.querySelector(".right-toggle")
    if (rightToggle !== null) {
      rightToggle.addEventListener("click", (e) => {
        ratings.style.display = "flex"
        activities.style.display = "none"
        form.style.display = "none"
        rentalForm.style.display = "none"
        upcomingActivities.style.display = "none"
        rentedItems.style.display = "none"
      })
    }
  }

  function showUpcomingActivities() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let form = document.querySelector(".display-it-none")
    let services = document.querySelector(".users-services-outer-container")
    let rentalForm = document.querySelector(".display-it-none-rental")
    let serviceForm = document.querySelector(".second-create-service-form-container")
    // let toggleCreate = document.querySelector(".create-activity-toggle")
    // let toggleRental = document.querySelector(".create-rental-toggle")
    let upcomingActivitiesToggle = document.querySelector(".upcoming-activities-toggle")
    let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    // if(toggleCreate && toggleRental) {
      if (upcomingActivitiesToggle !== null) {
        upcomingActivitiesToggle.addEventListener("click", (e) => {
          ratings.style.display = "none"
          activities.style.display = "none"
          serviceForm.style.display = "none"
          form.style.display = "none"
          rentalForm.style.display = "none"
          services.style.display = "flex"
          // upcomingActivities.style.display = "none"
          rentedItems.style.display = "none"
        })
      }
    // }
  }

  function showRentedItems() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let form = document.querySelector(".display-it-none")
    let rentalForm = document.querySelector(".display-it-none-rental")
    // let toggleCreate = document.querySelector(".create-activity-toggle")
    // let toggleRental = document.querySelector(".create-rental-toggle")
    let rentedItemsToggle = document.querySelector(".rented-items-toggle")
    // let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    // if(toggleCreate && toggleRental) {
      if (rentedItemsToggle !== null) {
        rentedItemsToggle.addEventListener("click", (e) => {
          ratings.style.display = "none"
          activities.style.display = "none"
          form.style.display = "none"
          rentalForm.style.display = "none"
          // upcomingActivities.style.display = "none"
          rentedItems.style.display = "flex"
        })
      }
    // }
  }

  function showActivities() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let form = document.querySelector(".display-it-none")
    let services = document.querySelector(".users-services-outer-container")
    let rentalForm = document.querySelector(".display-it-none-rental")
    let serviceForm = document.querySelector(".second-create-service-form-container")
    // let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    if(document.querySelector(".left-toggle") !== null)
    document.querySelector(".left-toggle").addEventListener("click", (e) => {
      activities.style.display = "flex"
      form.style.display = "none"
      ratings.style.display = "none"
      serviceForm.style.display = "none"
      services.style.display = "none"
      rentalForm.style.display = "none"
      // upcomingActivities.style.display = "none"
      rentedItems.style.display = "none"
    })
  }

  function showCreateActivityForm() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let services = document.querySelector(".users-services-outer-container")
    let form = document.querySelector(".display-it-none")
    let rentalForm = document.querySelector(".display-it-none-rental")
    let toggleCreate = document.querySelector(".create-activity-toggle")
    let serviceForm = document.querySelector(".second-create-service-form-container")
    // let toggleRental = document.querySelector(".create-rental-toggle")
    // let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    if(toggleCreate) {
      toggleCreate.addEventListener("click", (e) => {
        ratings.style.display = "none"
        activities.style.display = "none"
        form.style.display = "flex"
        services.style.display = "none"
        rentalForm.style.display = "none"
        serviceForm.style.display = "none"
        // upcomingActivities.style.display = "none"
        rentedItems.style.display = "none"
      })
    }
  }

  function showCreateServiceForm() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let services = document.querySelector(".users-services-outer-container")
    let form = document.querySelector(".display-it-none")
    let rentalForm = document.querySelector(".display-it-none-rental")
    let toggleCreate = document.querySelector(".create-service-toggle")
    let serviceForm = document.querySelector(".second-create-service-form-container")
    // let toggleRental = document.querySelector(".create-rental-toggle")
    // let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    if(toggleCreate) {
      toggleCreate.addEventListener("click", (e) => {
        ratings.style.display = "none"
        activities.style.display = "none"
        form.style.display = "none"
        services.style.display = "none"
        rentalForm.style.display = "none"
        serviceForm.style.display = "flex"
        // upcomingActivities.style.display = "none"
        rentedItems.style.display = "none"
      })
    }
  }

  function showCreateRentalForm() {
    let ratings = document.querySelector(".users-rentals-outer-container")
    let activities = document.querySelector(".users-activities-outer-container")
    let services = document.querySelector(".users-services-outer-container")
    let form = document.querySelector(".display-it-none")
    let rentalForm = document.querySelector(".display-it-none-rental")
    // let toggleCreate = document.querySelector(".create-activity-toggle")
    let toggleRental = document.querySelector(".create-rental-toggle")
    // let upcomingActivities = document.querySelector(".users-upcoming-activities-container")
    let rentedItems = document.querySelector(".users-rented-items-container")
    if(toggleRental) {
      toggleRental.addEventListener("click", (e) => {
        ratings.style.display = "none"
        activities.style.display = "none"
        form.style.display = "none"
        rentalForm.style.display = "flex"
        services.style.display = "none"
        // upcomingActivities.style.display = "none"
        rentedItems.style.display = "none"
      })
    }
  }

  function successPurchase() {
    let success = document.querySelector("#success")
    if (success !== null) {
      setTimeout(() => {
        success.style.display = "none"
      }, 5000)
      document.querySelector(".users-upcoming-activities-container").style.display = "flex"
      document.querySelector(".users-activities-outer-container").style.display = "none"
    }
  }

  function showForm() {
    let formErrors = document.querySelector(".alert-danger")
    let success = document.querySelector("#success")
    if (formErrors !== null && success === null) {
      document.querySelector(".display-it-none").style.display = "flex"
      document.querySelector(".users-activities-outer-container").style.display = "none"
    }
    changePrice()
  }

  function changePrice() {
    let price = document.querySelector(".price-to-add")
    let theInput = document.querySelector(".add-five-percent")
    if (price !== null) {
      price.addEventListener("input", e => {
        theInput.value = Math.round(price.value*1.10*100) / 100
      })
    }
  }

  // function spotsPrice() {
  //   let spotsSelect = document.querySelector(".spots-select")
  //   let spotsTotalDiv = document.querySelector(".spots-total-div")
  //   let spotsArr = spotsTotalDiv.textContent.split("$")
  //   let cost = parseInt(spotsArr[1])
  //   if(spotsSelect !== null) {
  //     spotsSelect.addEventListener("input", e => {
  //       let spotsTotal = parseInt(spotsArr[1])
  //       spotsTotal = cost * parseInt(spotsSelect.value)
  //       console.log(String(spotsTotal));
  //       spotsTotalDiv.innerText = spotsTotalDiv.textContent.substr(0, 8) + String(spotsTotal)
  //       console.log(spotsTotalDiv.textContent)
  //     })
  //   }
  // }

</script>
