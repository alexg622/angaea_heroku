
<div class="second-edit-activity-form-container">
  <h1>Update Your Service</h1>
  <form enctype="multipart/form-data" class="second-create-activity-form-css date-class" action="<%= activity_path(activity) %>" method="post">
    <input class="" type="hidden" name="authenticity_token" value="<%=form_authenticity_token%>"/>
    <input type="hidden" name="_method" value="patch">

    <div class="second-activity-new-personal-info-container">
      <input class="red-border new-activity-name" type="text" name="activity[activity_name]" placeholder="NAME*" value="<%=@activity.activity_name%>">
      <input class="red-border new-activity-email" type="email" name="activity[contact_email]" placeholder="EMAIL*" value="<%=@activity.contact_email%>">
      <input class="red-border new-activity-number" type="text" name="activity[contact_number]" placeholder="CONTACT NUMBER*" value="<%=@activity.contact_number%>">
    </div>

    <div class="second-activity-new-price-info-container">
      <input class="red-border second-activity-new-cost" type="text" name="activity[cost]" placeholder="PRICE*" value="<%=@activity.cost%>">
      <input class="red-border second-activity-new-capacity" type="text" name="activity[capacity]" placeholder="MAX ATTENDEES*" value="<%=@activity.capacity%>">

        <select class="red-border second-activity-new-category" name="activity[category]">
          <option value="art">art*</option>
          <option value="music">music</option>
          <option value="food">food</option>
          <option value="dance">dance</option>
          <option value="theatre">theatre</option>
          <option value="comedy">comedy</option>
        </select>

        <%if @activity.recurring_schedule == "bi-weekly"%>
          <label>
            <select class="red-border second-activity-new-recurring" name="activity[recurring_schedule]">
              <option value="bi-weekly">Bi-Weekly</option>
              <option value="">One-Time</option>
              <option value="weekly">Weekly</option>
            </select>
          </label>
        <%elsif @activity.recurring_schedule == "weekly"%>
          <label>
            <select class="red-border second-activity-new-recurring" name="activity[recurring_schedule]">
              <option value="weekly">Weekly</option>
              <option value="bi-weekly">Bi-Weekly</option>
              <option value="">One-Time</option>
            </select>
          </label>
        <%else%>
          <label>
            <select class="red-border second-activity-new-recurring" name="activity[recurring_schedule]">
              <option value="">One-Time</option>
              <option value="weekly">Weekly</option>
              <option value="bi-weekly">Bi-Weekly</option>
            </select>
          </label>
      <%end%>
    </div>

    <div class="red-border second-activity-new-about-container">
      <textarea class="second-activity-new-about" name="activity[content]" placeholder="ABOUT SERVICE*"><%=@activity.content%></textarea>
      <textarea class="second-activity-new-bring" name="activity[additional_info]" placeholder="WHAT TO BRING*"><%=@activity.additional_info%></textarea>
    </div>

    <div class="red-border second-activity-new-location-container">
      <input class="second-activity-new-location-address" type="text" name="activity[addressLN1]" placeholder="ADDRESS*" value="<%=@activity.addressLN1%>">
      <input class="second-activity-new-location-city" type="text" name="activity[city]" placeholder="CITY*" value="<%=@activity.city%>">
      <input class="second-activity-new-location-state" type="text" name="activity[state]" placeholder="STATE*" value="<%=@activity.state%>">
      <input class="second-activity-new-location-zip" type="text" name="activity[zip]" placeholder="ZIPCODE*" value="<%=@activity.zip%>">
    </div>

    <div class="second-activity-new-date-container">
      <label>
        <div class="second-activity-new-date-text-start">Start Date: <%=@activity.format_start_date%>*</div>
        <div class="start-datetime start-datetime-input-container datetime-input-container red-border second-activity-new-date-start">
          <div class="start-datetime datetime-input datetime-day">00</div>
          <div class="start-datetime datetime-input datetime-divider">/</div>
          <div class="start-datetime datetime-input datetime-month">00</div>
          <div class="start-datetime datetime-input datetime-divider">/</div>
          <div class="start-datetime datetime-input datetime-year">0000</div>
          <div class="start-datetime datetime-input datetime-hour"> 00</div>
          <div class="start-datetime datetime-input datetime-divider">:</div>
          <div class="start-datetime datetime-input datetime-minute">00</div>
          <div class="start-datetime datetime-input datetime-ampm">AM</div>
        </div>
        <input class="start-datetime-value start-date" type="hidden" name="activity[start_date]" value="">
      </label>

      <label>
        <div class="second-activity-new-date-text-end">End Date: <%=@activity.format_end_date%>*</div>
        <div class="end-datetime end-datetime-input-container datetime-input-container red-border second-activity-new-date-end">
          <div class="end-datetime datetime-input end-datetime-day">00</div>
          <div class="end-datetime datetime-input end-datetime-divider">/</div>
          <div class="end-datetime datetime-input end-datetime-month">00</div>
          <div class="end-datetime datetime-input end-datetime-divider">/</div>
          <div class="end-datetime datetime-input end-datetime-year">0000</div>
          <div class="end-datetime datetime-input end-datetime-hour left-hour">00</div>
          <div class="end-datetime datetime-input end-datetime-divider">:</div>
          <div class="end-datetime datetime-input end-datetime-minute">00</div>
          <div class="end-datetime datetime-input end-datetime-ampm">AM</div>
        </div>
        <input class="end-datetime-value end-date" type="hidden" name="activity[end_date]" value="">
      </label>
    </div>

    <div class="second-activity-new-images-container">
      <div class="margin-right-label">
        <div class="bold-it">Main Image*:</div>
        <input readonly type="text" class="red-border second-activity-new-image" placeholder="UPLOAD IMAGE"/>
        <div class="max-file-size">Max File Size 15MB</div>
        <input class="dont-display-image" type="file" type="hidden" name="activity[image]" value="" multiple="multiple">
      </div>
      <label>
        <div class="Make-normal">Other Images:</div>
        <input readonly type="text" class="red-border second-activity-new-images" placeholder="UPLOAD IMAGES"/>
        <div class="max-file-size">Max File Size 15MB</div>
        <input class="dont-display-images" type="file" name="activity[images][]" value="" multiple="multiple">
      </label>
    </div>

    <div class="edit-delete-btn">
      <%= link_to "Delete Service" , activity_path(activity), method: :delete, class: "no-black"%>
    </div>

    <input class="best-btn" type="submit" value="Update">
  </form>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      clickFileImage()
      clickFileImages()
      isImgAttached()
      isImgsAttached()
    })

    function isImgAttached() {
      let inputText = document.querySelector(".second-activity-new-image")
      let inputImg = document.querySelector(".dont-display-image")
      inputImg.addEventListener("change", (e) => {
        if(inputImg.value !== "") {
          inputText.placeholder = "Image Attached"
        }
      })
    }

    function isImgsAttached() {
      let inputText = document.querySelector(".second-activity-new-images")
      let inputImg = document.querySelector(".dont-display-images")
      inputImg.addEventListener("change", (e) => {
        if(inputImg.value !== "") {
          console.log(e)
          inputText.placeholder = "Images Attached"
        }
      })
    }

    function clickFileImage() {
      let inputText = document.querySelector(".second-activity-new-image")
      let inputImg = document.querySelector(".dont-display-image")
      inputText.addEventListener("click", e => {
        inputImg.click()
      })
    }

    function clickFileImages() {
      let inputText = document.querySelector(".second-activity-new-images")
      let inputImg = document.querySelector(".dont-display-images")
        inputText.addEventListener("click", e => {
        inputImg.click()
      })
    }
  </script>
  <%= render "layouts/datetime_javascript"%>
  <%= render "layouts/end_datetime_javascript"%>
</div>
</div>
